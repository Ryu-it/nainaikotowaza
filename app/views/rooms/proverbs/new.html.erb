<%= render "shared/flash_message" %>
<div class="min-h-screen w-full overflow-hidden bg-rose-100 grid items-start justify-items-center">
  <!-- ★ 横並びのラッパー（スマホ:縦 / md以上:横） -->
  <div class="w-full max-w-6xl p-8 relative">

    <!-- 🌸 左：フォーム -->
    <%= form_with(model: [@room, @proverb], class: "w-full md:flex-1 max-w-5xl md:col-start-2 justify-self-center") do |f| %>
      <div class="w-full md:w-[700px] mx-auto bg-white rounded-2xl shadow-xl p-12 space-y-6 text-center">
        <h2 class="text-3xl font-bold mb-12">言葉を投稿する</h2>

        <div class="flex justify-center items-center gap-4">
          <%= f.text_field :word1, placeholder: "単語を入力", class: "w-32 py-3 px-4 rounded-xl border text-center font-semibold" %>
          <span class="text-2xl font-bold">✖️</span>
          <%= f.text_field :word2, placeholder: "単語を入力", class: "w-32 py-3 px-4 rounded-xl border text-center font-semibold" %>
        </div>

        <div>
          <%= f.hidden_field :status, value: "in_progress" %>
          <%= f.submit "この言葉で作ってもらう", class: "w-48 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 rounded-xl shadow transition" %>
        </div>

        <div class="space-y-8">
          <% ["ないないことわざ", "意味", "用例"].each do |label| %>
            <div class="relative group w-full">
              <div class="bg-gray-200 select-none w-full border rounded-xl py-8 px-6 text-center text-lg font-semibold">
                <span class="text-gray-400"><%= label %></span>
              </div>
              <div class="pointer-events-none absolute inset-0 z-10 flex items-center justify-center
                          bg-black/60 text-white text-sm font-medium rounded-xl
                          opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                招待した相手が入力します
              </div>
            </div>
          <% end %>

          <div class="relative group mx-auto w-48">
            <div class="bg-gray-200 select-none w-48 border rounded-xl py-3 px-6 text-center text-lg font-semibold">
              <span class="text-gray-400">投稿</span>
            </div>
            <div class="pointer-events-none absolute inset-0 z-10 flex items-center justify-center
                        bg-black/60 text-white text-sm font-medium rounded-xl
                        opacity-0 group-hover:opacity-100 transition-opacity duration-200">
              招待した相手が入力します
            </div>
          </div>
        </div>
      </div>
    <% end %>

    <!-- 🌸 右：使い方（アコーディオン） -->
    <aside
  class="w-full md:w-64 md:absolute md:top-8
         md:left-1/2 md:translate-x-[420px]"  data-controller="accordion">

      <div class="text-right md:text-left space-y-3">
        <div class="text-center space-y-2">
          <p class="font-semibold text-gray-800">一緒に作っているユーザー</p>
          <div class="border rounded-md px-4 py-1 inline-block bg-white shadow-sm">
            <%= @room.room_users.find_by(role: :proverb_maker)&.user&.name %>
          </div>
        </div>

        <button
  data-action="click->accordion#toggle"
  class="block mx-auto text-gray-700 font-semibold hover:text-blue-600 transition cursor-pointer"
        >
        使い方をみる
        </button>

        <div
          data-accordion-target="content"
          class="mt-2 text-sm text-gray-600 bg-white border rounded-xl p-4 shadow-sm transition-all duration-300"
          hidden
        >
          <p><strong>Step1.</strong><br>あなたが好きな言葉を選ぶ（白い部分）</p>
          <p class="mt-2"><strong>Step2.</strong><br>「この言葉で作ってもらう」ボタンをクリック</p>
          <p class="mt-2"><strong>Step3.</strong><br>招待したユーザーがことわざを作る。部屋を作ったときに招待の通知が相手に伝わっています。</p>
        </div>
      </div>
    </aside>
  </div>
</div>
