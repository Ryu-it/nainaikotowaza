<!-- 🌸 左：フォーム -->
  <%= form_with(model: [@room, @proverb], class: "w-full md:flex-1 max-w-5xl md:col-start-2 justify-self-center") do |f| %>
  <div class="w-full md:w-[700px] mx-auto bg-white rounded-2xl shadow-xl p-12 space-y-8 text-center">

    <!-- 上段：言葉入力（白） -->
    <div class="flex justify-center items-center gap-6">
      <%= f.text_field :word1,
            placeholder: "言葉を選んでいません",
            class: "w-50 py-3 px-4 rounded-xl border border-gray-400 bg-white text-center font-semibold shadow-sm" %>

      <span class="text-2xl font-bold text-gray-700 select-none">✕</span>

      <%= f.text_field :word2,
            placeholder: "言葉を選んでいません",
            class: "w-50 py-3 px-4 rounded-xl border border-gray-400 bg-white text-center font-semibold shadow-sm" %>
    </div>

    <!-- 送信ボタン（青） -->
    <div>
      <%= f.hidden_field :status, value: "in_progress" %>
      <%= f.submit "この言葉で作ってもらう",
            class: "mb-12 w-64 mx-auto bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 rounded-xl shadow transition" %>
    </div>

    <!-- 下段：グレーの閲覧専用枠（hoverで案内を表示） -->
    <div class="space-y-8">

      <!-- タイトル -->
      <div class="relative group w-full">
        <div class="bg-gray-300/70 w-full border border-gray-400 rounded-xl py-4 px-6 text-center text-lg font-semibold cursor-not-allowed select-none">
          <span class="text-gray-800"><%= @proverb.title.presence || "ないないことわざ" %></span>
        </div>
        <div class="pointer-events-none absolute inset-0 z-10 flex items-center justify-center
                    bg-black/60 text-white text-sm font-medium rounded-xl
                    opacity-0 group-hover:opacity-100 transition-opacity duration-200">
          入力できません（招待した相手が入力します）
        </div>
      </div>

      <!-- 意味 -->
      <div class="relative group w-full">
        <div class="bg-gray-300/70 w-full border border-gray-400 rounded-xl py-8 px-6 text-center text-lg font-semibold cursor-not-allowed select-none">
          <span class="text-gray-800"><%= @proverb.meaning.presence || "意味" %></span>
        </div>
        <div class="pointer-events-none absolute inset-0 z-10 flex items-center justify-center
                    bg-black/60 text-white text-sm font-medium rounded-xl
                    opacity-0 group-hover:opacity-100 transition-opacity duration-200">
          入力できません（招待した相手が入力します）
        </div>
      </div>

      <!-- 用例 -->
      <div class="relative group w-full">
        <div class="bg-gray-300/70 w-full border border-gray-400 rounded-xl py-8 px-6 text-center text-lg font-semibold cursor-not-allowed select-none">
          <span class="text-gray-800"><%= @proverb.example.presence || "用例" %></span>
        </div>
        <div class="pointer-events-none absolute inset-0 z-10 flex items-center justify-center
                    bg-black/60 text-white text-sm font-medium rounded-xl
                    opacity-0 group-hover:opacity-100 transition-opacity duration-200">
          入力できません（招待した相手が入力します）
        </div>
      </div>

      <!-- 投稿（無効風のボタン） -->
      <div class="relative group mx-auto w-48">
        <div class="bg-gray-300/70 w-48 border border-gray-400 rounded-xl py-3 px-6 text-center text-lg font-semibold cursor-not-allowed select-none">
          <span class="text-gray-800">投稿</span>
        </div>
        <div class="pointer-events-none absolute inset-0 z-10 flex items-center justify-center
                    bg-black/60 text-white text-sm font-medium rounded-xl
                    opacity-0 group-hover:opacity-100 transition-opacity duration-200">
          入力できません（招待した相手が入力します）
        </div>
      </div>

    </div>
  </div>
<% end %>


    <!-- 🌸 右：使い方（アコーディオン） -->
    <aside
  class="w-full md:w-64 md:absolute md:top-8
         md:left-1/2 md:translate-x-[420px]"  data-controller="accordion">

      <div class="text-right md:text-left space-y-3">
        <div class="text-center space-y-2">
          <p class="font-semibold text-gray-800">一緒に作っているユーザー</p>
          <div class="border rounded-md px-4 py-1 inline-block bg-white shadow-sm">
            <%= @room.room_users.find_by(role: :proverb_maker)&.user&.name %>
          </div>
        </div>

        <button
  data-action="click->accordion#toggle"
  class="block mx-auto text-gray-700 font-semibold hover:text-blue-600 transition cursor-pointer"
        >
        使い方をみる
        </button>

        <div
          data-accordion-target="content"
          class="mt-2 text-sm text-gray-600 bg-white border rounded-xl p-4 shadow-sm transition-all duration-300"
          hidden
        >
          <p><strong>Step1.</strong><br>あなたが好きな言葉を選ぶ（白い部分）</p>
          <p class="mt-2"><strong>Step2.</strong><br>「この言葉で作ってもらう」ボタンをクリック</p>
          <p class="mt-2"><strong>Step3.</strong><br>招待したユーザーがことわざを作る。部屋を作ったときに招待の通知が相手に伝わっています。</p>
        </div>
      </div>
    </aside>
