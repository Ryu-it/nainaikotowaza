<%= form_with model: proverb, class: "w-full flex justify-center" do |f| %>
  <div class="w-full max-w-3xl bg-white/95 rounded-3xl shadow-2xl p-8 md:p-12 space-y-10"
       data-controller="ai">
    <div class="space-y-2 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-slate-900">ことわざを投稿する</h2>
    </div>

    <section class="space-y-6">
      <header class="text-left">
        <p class="text-xs font-semibold text-slate-500 uppercase tracking-[0.4em]">STEP 1</p>
        <h3 class="text-xl font-semibold text-slate-800">組み合わせる 2 つの言葉</h3>
      </header>

      <button type="button"
              data-action="click->ai#generateWords"
              class="w-full md:w-auto inline-flex items-center justify-center gap-2 bg-fuchsia-500 hover:bg-fuchsia-600 text-white font-semibold py-3 px-6 rounded-2xl shadow-lg transition">
        <span>言葉をAIに作ってもらう</span>
      </button>

      <div class="grid gap-4 lg:grid-cols-[1fr_auto_1fr] items-center">
        <div class="space-y-2">
          <label for="proverb_word1" class="text-sm font-semibold text-slate-600">単語 1</label>
          <%= f.text_field :word1,
                           placeholder: "例：居酒屋",
                           class: "w-full py-3 px-4 rounded-2xl border border-slate-200 sm:bg-slate-50 text-center sm:font-semibold focus:border-rose-400 focus:ring-rose-200",
                           id: "proverb_word1" %>
        </div>

        <div class="flex justify-center items-center h-full">
          <span class="text-3xl font-black text-rose-400">✕</span>
        </div>

        <div class="space-y-2">
          <label for="proverb_word2" class="text-sm font-semibold text-slate-600">単語 2</label>
          <%= f.text_field :word2,
                           placeholder: "例：医者",
                           class: "w-full py-3 px-4 rounded-2xl border border-slate-200 text-center sm:font-semibold sm:bg-slate-50 focus:border-rose-400 focus:ring-rose-200",
                           id: "proverb_word2" %>
        </div>
      </div>
    </section>

    <section class="space-y-6">

      <header class="text-left">
        <p class="text-xs font-semibold text-slate-500 uppercase tracking-[0.4em]">STEP 2</p>
        <h3 class="text-xl font-semibold text-slate-800">ことわざの内容</h3>
      </header>

      <button type="button"
              data-action="click->ai#generateProverb"
              class="w-full md:w-auto inline-flex items-center justify-center gap-2 bg-fuchsia-500 hover:bg-fuchsia-600 text-white font-semibold py-3 px-6 rounded-2xl shadow-lg transition">
        <span>ことわざ、意味、用例をAIに作ってもらう</span>
      </button>

      <div class="space-y-4">
        <div class="space-y-2">
          <label class="text-sm font-semibold text-slate-600">タイトル</label>
          <%= f.text_field :title,
                           placeholder: "例：居酒屋に医者いらず",
                           class: "w-full border border-slate-200 rounded-2xl py-3 px-6 text-sm sm:text-center sm:text-lg sm:font-semibold focus:border-rose-400 focus:ring-rose-200" %>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-semibold text-slate-600">意味</label>
          <%= f.text_area  :meaning,
                           rows: 3,
                           placeholder: "例：堅苦しい忠告や…",
                           class: "w-full border border-slate-200 rounded-2xl py-3 px-4 text-sm focus:border-rose-400 focus:ring-rose-200" %>
        </div>

        <div class="space-y-2">
          <label class="text-sm font-semibold text-slate-600">用例</label>
          <%= f.text_area  :example,
                           rows: 3,
                           placeholder: "例：友達同士の飲み会で…",
                           class: "w-full border border-slate-200 rounded-2xl py-3 px-4 text-sm focus:border-rose-400 focus:ring-rose-200" %>
        </div>
      </div>
    </section>

    <%= f.hidden_field :status, value: "completed" %>

    <div class="flex flex-col md:flex-row gap-3 md:items-center md:justify-between pt-4">
      <p class="text-xs text-slate-500">すべての項目を入力してから投稿ボタンを押してください。</p>
      <%= f.submit "投稿",
                   class: "w-full md:w-40 bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 rounded-2xl shadow-lg transition" %>
    </div>
  </div>
<% end %>
